---
- hosts: localhost
  vars:
     - api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64303031303434373465306561646533343134623737373665363139303237336333653763643230
          3834343863383935623264363338623032393936313530640a623836623961333038363830306537
          62356463303434613732366163396434303062356137363566653735396335346334386236633461
          3063306566613830300a353034303565356137666432303533356661636437353935623838616361
          61373064616333363530386665393533633762303963623762633138353862656337653339623264
          62306230393735643934613065333735303735373936383639396532323763633932626435666337
          37653833306138353562376663376233643763643964323166336330393338636261306466343236
          39643338636639343861
    - show_disk_space: "<show><system><disk-space></disk-space></system></show>"
    - pan_api_url: "https://192.168.200.1/api/"
  tasks:
    - name: Show disk-space usage
      show_disk_space:
        pan_api_key: "{{api_key}}"
        pan_cmd: "{{show_disk_space}}"
        pan_api_url: "{{pan_api_url}}"
      register: result
